# æ•°æ®ä¼ è¾“é—®é¢˜åˆ†æ

## ğŸ” é—®é¢˜å‘ç°

ä»æ—¥å¿—ä¸­å‘ç°ï¼š

```
ğŸ“¦ å®Œæ•´APIæ•°æ®:
  estimatedImpact: ''
  actualImpact: undefined
```

åˆ›å»ºé¡¹ç›®è¿”å›çš„æ•°æ®ï¼š
```
actualImpact: null
estimatedImpact: null
```

## ğŸ“‹ é—®é¢˜åŸå› 

1. **å‰ç«¯å‘é€æ—¶**
   - `estimatedImpact` ä¸ºç©ºå­—ç¬¦ä¸² `''`
   - `actualImpact` ä¸º `undefined`
   - åŸå› ï¼š`formData.impactType === 'actual'` åˆ¤æ–­å¤±è´¥

2. **åç«¯æ¥æ”¶æ—¶**
   - `estimatedImpact` ç©ºå­—ç¬¦ä¸²è¢«è½¬æ¢ä¸º `null` âœ…
   - `actualImpact` ä¸º `undefined`ï¼Œè¢«è½¬æ¢ä¸º `null` âœ…

3. **è¿”å›ç»™å‰ç«¯æ—¶**
   - `actualImpact: null`
   - `estimatedImpact: null`
   - å‰ç«¯åˆ¤æ–­ `project.actualImpact || project.estimatedImpact` æ—¶ï¼Œä¸¤è€…éƒ½æ˜¯ `null`ï¼Œå¯¼è‡´ä¸æ˜¾ç¤º

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä¿®å¤å‰ç«¯æ•°æ®è½¬æ¢ï¼ˆæ¨èï¼‰
ä¿®æ”¹ `AdminDashboard.tsx` ä¸­çš„ `convertFormDataToApiFormat`ï¼š

```typescript
// ä¿®æ”¹å‰
estimatedImpact: formData.impactType === 'estimated' ? formData.impactDescription : undefined,
actualImpact: formData.impactType === 'actual' ? formData.impactDescription : undefined,

// ä¿®æ”¹å
estimatedImpact: formData.impactType === 'estimated' ? formData.impactDescription : null,
actualImpact: formData.impactType === 'actual' ? formData.impactDescription : null,
```

åŒæ—¶æ·»åŠ è°ƒè¯•æ—¥å¿—ï¼Œæ£€æŸ¥ `formData.impactType` çš„å€¼ã€‚

### æ–¹æ¡ˆ2ï¼šå‰ç«¯æ˜¾ç¤ºæ—¶çš„å…œåº•é€»è¾‘
ä¿®æ”¹ `ProjectDetail.tsx` ä¸­çš„æ˜¾ç¤ºé€»è¾‘ï¼š

```typescript
// å¦‚æœ actualImpact å’Œ estimatedImpact éƒ½æ˜¯ nullï¼Œä½¿ç”¨ impactDescription
const impactToShow = project.actualImpact || project.estimatedImpact || project.impactDescription;
```

## ğŸ› å¯èƒ½çš„BUG

`formData.impactType` çš„å€¼å¯èƒ½ä¸æ˜¯ `'actual'` æˆ– `'estimated'`ï¼Œå¯¼è‡´ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯ `undefined`/`null`ã€‚

éœ€è¦æ£€æŸ¥ï¼š
1. `ProjectEditor` ç»„ä»¶ä¸­ `impactType` çš„åˆå§‹å€¼
2. ç”¨æˆ·é€‰æ‹©å `impactType` æ˜¯å¦æ­£ç¡®æ›´æ–°
3. `impactType` çš„å€¼æ˜¯å¦ä¸åˆ¤æ–­æ¡ä»¶ä¸€è‡´ï¼ˆå¤§å°å†™ã€ç©ºæ ¼ç­‰ï¼‰

## ğŸ”§ å·²ä¿®å¤

1. âœ… å°† `undefined` æ”¹ä¸º `null`ï¼Œç¡®ä¿ä¸€è‡´æ€§
2. âœ… æ·»åŠ è°ƒè¯•æ—¥å¿—ï¼Œè¾“å‡º `impactType` å’Œ `impactDescription` çš„å€¼
3. â³ å¾…ç”¨æˆ·æµ‹è¯•å¹¶åé¦ˆæ—¥å¿—


